<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>your will my hands</title>
  <meta name="author" content="messnoTrace">
  
  <meta name="description" content="以前没怎么关注过PreferenceActivity的一些用法只是简单了解下，然后刚好今天遇到了某个机型上出现了问题：我明明设置的是黑色的字体，在这个机器上却是白色的，然后各种摸索得出了个推论，页面的字体颜色什么的，可能是更随系统来的，受系统调控：我是这么写的，
  &amp;lt;CheckBoxPref">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  
  <meta property="og:site_name" content="your will my hands"/>

  
    <meta property="og:image" content="undefined"/>
  

  <link href="/favicon.ico" rel="icon">
  <link rel="alternate" href="/atom.xml" title="your will my hands" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  
</head>

<body>
  <header id="header" class='normal_mode'>
    <div class="inner"><div class="alignleft">
  <h1><a href="/"><img class="logo" src="/css/img/logo.png"/>your will my hands</a></h1>
  <h2><a href="/">your will my hands</a></h2>
</div>
<nav id="main-nav">
  <ul>
    
      <li><a href="/">博客</a></li>
    
      <li><a href="/archives">存档</a></li>
    
      <li><a href="/about">关于</a></li>
    
  </ul>
  <div class="clearfix"></div>
</nav>
<div class="clearfix"></div></div>
  </header>
  <div id="content" class="inner">
    <div id="main-col" class="alignleft"><div id="wrapper"><article class="post">
  
    <div class="gallery">
  <div class="photoset">
    
      <img src="">
    
  </div>
  <div class="control">
    <div class="prev"></div>
    <div class="next"></div>
  </div>
</div>
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2017-06-17T02:29:14.241Z">
          <a href="/2017/06/17/如何修改CheckBoxPreference 中title ，summary字体的颜色/">
              2017-06-17
          </a>
        </time>
      
      
  
    <h1 class="title"></h1>
  

    </header>
    <div class="entry">
      
        <p>以前没怎么关注过PreferenceActivity的一些用法只是简单了解下，然后刚好今天遇到了某个机型上出现了问题：<strong>我明明设置的是黑色的字体，在这个机器上却是白色的</strong>，然后各种摸索得出了个推论，页面的字体颜色什么的，可能是更随系统来的，受系统调控：<br>我是这么写的，</p>
<pre><code>  &lt;CheckBoxPreference    
  android:defaultValue=&quot;true&quot;   
 android:key=&quot;weather_use_metric&quot;  
android:textColor=&quot;@color/black&quot;
  android:title=&quot;@string/weather_use_metric&quot; /&gt;
</code></pre><p>问题出现 了那没办法，只能想办法改了，好在现在学会了面向google编程，然后搜的一下，找到了个解决方案，先上怎么解决，然后再说为什么这么干。首先建个layout ，名字随便取（我取名custom_preferece_layout.xml），内容如下:</p>
<pre><code>          &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; 
             android:layout_width=&quot;match_parent&quot;
           android:layout_height=&quot;wrap_content&quot;   
           android:minHeight=&quot;?android:attr/listPreferredItemHeight&quot; 
           android:gravity=&quot;center_vertical&quot; 
           android:paddingRight=&quot;?android:attr/scrollbarSize&quot;&gt;  
        &lt;RelativeLayout android:layout_width=&quot;wrap_content&quot;        
          android:layout_height=&quot;wrap_content&quot; android:layout_marginLeft=&quot;15dip&quot;   
         android:layout_marginRight=&quot;6dip&quot;
         android:layout_marginTop=&quot;6dip&quot;      
         android:layout_marginBottom=&quot;6dip&quot; 
         android:layout_weight=&quot;1&quot;&gt;     
        &lt;TextView android:id=&quot;@+android:id/title&quot;       
           android:layout_width=&quot;wrap_content&quot; 
         android:layout_height=&quot;wrap_content&quot;         
         android:singleLine=&quot;true&quot; 
          android:textAppearance=&quot;?android:attr/textAppearanceLarge&quot;        
          android:ellipsize=&quot;marquee&quot; android:fadingEdge=&quot;horizontal&quot;         
         android:textColor=&quot;@color/black&quot; /&gt;    
        &lt;TextView android:id=&quot;@+android:id/summary&quot;     
         android:layout_width=&quot;wrap_content&quot; 
        android:layout_height=&quot;wrap_content&quot;          
        android:layout_below=&quot;@android:id/title&quot; 
        android:layout_alignLeft=&quot;@android:id/title&quot;           
       android:textAppearance=&quot;?android:attr/textAppearanceSmall&quot;        
       android:maxLines=&quot;4&quot; /&gt;   
   &lt;/RelativeLayout&gt;    
&lt;!-- Preference should place its actual preference widget here. --&gt;  
    &lt;LinearLayout android:id=&quot;@+android:id/widget_frame&quot;     
       android:layout_width=&quot;wrap_content&quot;
       android:layout_height=&quot;match_parent&quot;        
      android:gravity=&quot;center_vertical&quot; android:orientation=&quot;vertical&quot; /&gt;
  &lt;/LinearLayout&gt;
</code></pre><p>在这个布局中修改title，sunmmary的颜色就可以了。<br>然后再CheckBoxPreference    中加一句：</p>
<pre><code>&lt;CheckBoxPreference   
 android:defaultValue=&quot;true&quot;   
   android:key=&quot;weather_use_metric&quot;  
  android:layout=&quot;@layout/custom_preferece_layout&quot; 
  android:textColor=&quot;@color/black&quot;   
     /&gt;
</code></pre><p>然后，就解决了这个问题，那为什么这么搞呢？进入CheckBoxPreference   顶层父类Preference中看，看到构造中的注释了：</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1453857-fca483c577435efc.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="QQ截图20161110175559.png"></p>
<p>这玩意默认的控制了样式，然后再往下看到一个方法：</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1453857-54f7fd8444a953dc.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="QQ截图20161110175911.png"></p>
<p>他说大部分情况足够用了，但是这不是出来问题么，于是到android的values中的attr下找，</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1453857-e5a69f67b3b10c3d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="Paste_Image.png"></p>
<p>嗯很贴心，行数都截出来了。顶层默认实现了个布局，在CheckBoxPreference的onBindView方法中出现了个id和一个方法：<br><img src="http://upload-images.jianshu.io/upload_images/1453857-30381fbc2e2d3ff8.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="QQ截图20161110181103.png"></p>
<p>id点进去能找到个布局，然后再父类TwoStatePreference中可以看到这个方法里面写了什么，注意看上面的布局控件的id，你没看错，就是覆盖了preference_material.xml 中的布局：</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1453857-c2fb7896c6189aba.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="QQ截图20161110181315.png"></p>
<p>附上答案链接 <a href="http://stackoverflow.com/questions/4469514/how-to-customize-text-color-of-the-checkboxpreference-title" target="_blank" rel="external">http://stackoverflow.com/questions/4469514/how-to-customize-text-color-of-the-checkboxpreference-title</a></p>

      
    </div>
    <footer>
      
        
        
        
  <div class="addthis addthis_toolbox addthis_default_style">
    
    
    
      <a class="addthis_button_google_plusone" g:plusone:size="medium"></a>
    
    
    <a class="addthis_counter addthis_pill_style"></a>
  </div>
  <!-- JiaThis Button BEGIN -->
    <div class="jiathis_style">
        <span class="jiathis_txt">分享到：</span>
        <a class="jiathis_button_icons_1"></a>
        <a class="jiathis_button_icons_2"></a>
        <a class="jiathis_button_icons_3"></a>
        <a class="jiathis_button_icons_4"></a>
        <a href="http://www.jiathis.com/share" class="jiathis jiathis_txt jtico jtico_jiathis" target="_blank"></a>
        <a class="jiathis_counter_style"></a>
    </div>
    <script type="text/javascript" src="http://v3.jiathis.com/code_mini/jia.js" charset="utf-8"></script>
    <!-- JiaThis Button END -->

      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>


<section id="comment">
  <h1 class="title">留言</h1>

  
      <!-- Duoshuo Comment BEGIN -->
<div class="ds-thread"></div>
<script type="text/javascript">
    var duoshuoQuery = {short_name:"moo123"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = 'http://static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0] 
		|| document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
</script>
<!-- Duoshuo Comment END -->
  
</section>
</div></div>
    <aside id="sidebar" class="alignright">
  <div class="search">
  <form action="//google.com/search" method="get" accept-charset="utf-8">
    <input type="search" name="q" results="0" placeholder="搜索">
    <input type="hidden" name="q" value="site:messnoTrace.github.io">
  </form>
</div>

  
<div class="widget tag">
  <h3 class="title">最新文章</h3>
  <ul class="entry">
    
      <li>
        <a href="/2017/06/17/Android Accessibility 的简单用法/"></a>
      </li>
    
      <li>
        <a href="/2017/06/17/AndroidStudio中调用.so包出现找不到.so包的错误/"></a>
      </li>
    
      <li>
        <a href="/2017/06/17/如何修改CheckBoxPreference 中title ，summary字体的颜色/"></a>
      </li>
    
      <li>
        <a href="/2017/06/17/Android 多渠道打包如何修改app name，icon/"></a>
      </li>
    
      <li>
        <a href="/2017/06/17/Android通过反射实现静默安装/"></a>
      </li>
    
  </ul>
</div>


  

  
</aside>
    <div class="clearfix"></div>
  </div>
  <footer id="footer" class="inner"><div class="alignleft">
  
  &copy; 2017 messnoTrace
  
  
    <a class="icon github" href="https://github.com/yunlzheng">github</a>
    <a href="http://weibo.com/503error">weibo</a>
    <a href="http://www.google.com">google+</a>
  
</div>

<div class="clearfix"></div></footer>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>




    <script type="text/javascript">
        (function(){

            $(window).scroll(function(){

                var scrollTop = $(window).scrollTop();
                if ( scrollTop >200 ){
                    $("#header").removeClass('normal_mode').addClass('top_mode');
                } else{
                    $("#header").removeClass('top_mode').addClass('normal_mode');
                }

            });

        })();
    </script>



<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>

</body>
</html>